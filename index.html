<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ë‚˜ëŠ” ìš°ì˜ˆì›</title>
<meta name="description" content="ìš°ì˜ˆì›ì˜ ì´ì•¼ê¸°">
<!-- ê·€ì—¬ìš´ ê¸€ì”¨ì²´ -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dongle:wght@300;400;700&family=Jua&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#fff0f6; --bg2:#ffe1ef; --ink:#433646; --muted:#6f5f6b;
    --line:#ffd1ea; --accent:#ff6bb8; --accent2:#ff8fc8; --card:#fff;
    --shadow: 0 18px 40px rgba(255,105,180,.28);
  }
  html,body{height:100%;margin:0;padding:0}
  body{
    background:
      radial-gradient(1200px 700px at 75% -10%, #ffd6e7, transparent),
      linear-gradient(180deg,var(--bg1),var(--bg2));
    font-family: 'Dongle', 'Jua', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo","Noto Sans KR", sans-serif;
    color:var(--ink); display:grid; place-items:center;
  }

  /* ğŸ“± ë°˜ì‘í˜• í”„ë ˆì„ */
  .frame{
    width:100vw;
    height:100svh;
    max-width:980px;
    margin:0 auto;
    background:#fff;
    border:6px solid #ffb3d9;
    border-radius:24px;
    overflow:hidden;
    box-shadow:var(--shadow);
    position:relative;
  }

  .top{
    position:absolute; inset:0 0 auto 0; padding:10px;
    display:flex; gap:8px; align-items:center;
    background:linear-gradient(180deg,#fff8,#fff0);
  }
  .pill{
    background:linear-gradient(#fff,#fff7fb);
    border:2px solid var(--line);
    border-radius:14px;
    padding:6px 12px;
    display:flex; align-items:center; gap:8px;
    font-weight:700; color:var(--ink);
    box-shadow:0 8px 18px rgba(255,105,180,.22);
  }

  .board{
    position:absolute; inset:56px 12px 140px 12px;
    display:grid; grid-template-columns:1fr 1fr; gap:12px;
  }

  .stage{
    border:2px solid var(--line);
    border-radius:16px;
    background:linear-gradient(#fff,#fff7fb);
    padding:14px;
    box-shadow:0 10px 28px rgba(255,105,180,.18);
    position:relative; overflow:hidden;
  }

  .avatarWrap{
    display:grid; place-items:center;
    background:
      radial-gradient(900px 500px at 15% -15%, #ffe9f3, transparent),
      radial-gradient(900px 500px at 90% 10%, #ffe2f0, transparent),
      #fff;
    border-radius:14px; height:100%;
  }
  .avatarWrap img{
    width:min(80%,360px); max-height:100%; object-fit:contain;
    filter: drop-shadow(0 16px 28px rgba(255,105,180,.28));
    border-radius:16px;
  }

  .bubble{
    position:absolute; left:16px; right:16px;
    bottom:28%; display:none;
    background:#fff; border:2px solid var(--line);
    border-radius:18px; padding:10px 12px;
    box-shadow:0 10px 28px rgba(255,105,180,.22);
    font-size:clamp(16px,3.8vw,22px);
    line-height:1.5; color:var(--muted);
  }

  .textbox{
    position:absolute; left:0; right:0; bottom:0; padding:16px;
  }
  .card{
    background:linear-gradient(#fff,#fff7fb);
    border:2px solid var(--line);
    border-radius:18px;
    padding:16px 18px;
    max-width:96%;
    margin:0 auto 8px;
    box-shadow:0 14px 34px rgba(255,105,180,.22);
  }

  .who{
    font-family:'Jua', sans-serif;
    font-size:clamp(18px,5vw,26px);
    color:var(--accent);
    margin-bottom:4px;
    letter-spacing:.5px;
  }
  .txt{
    font-size:clamp(16px,4.5vw,24px);
    line-height:1.55;
    color:var(--muted);
    min-height:64px;
  }

  .controls{
    position:absolute; left:0; right:0; bottom:8px;
    display:flex; justify-content:center; gap:8px;
  }
  button{
    border:none; cursor:pointer; border-radius:14px;
    padding:10px 16px;
    background:linear-gradient(180deg,var(--accent2),var(--accent));
    color:#fff; font-weight:900;
    font-size:clamp(16px,4.5vw,22px);
    box-shadow:0 10px 22px rgba(255,105,180,.3);
  }
  .ghost{
    background:linear-gradient(#fff,#fff7fb);
    color:var(--ink); border:2px solid var(--line);
  }

  .overlay{ position:absolute; inset:0; display:grid; place-items:center; background:linear-gradient(#fff8,#fff0); z-index:10; }
  .sheet{
    background:linear-gradient(#fff,#fff7fb);
    border:2px solid var(--line);
    border-radius:20px;
    padding:22px 26px;
    width:min(92%,700px);
    text-align:center;
    box-shadow:0 16px 40px rgba(255,105,180,.28);
  }
  h1.title{
    font-family:'Jua', sans-serif;
    font-size:64px;
    margin:8px 0 4px;
    color:#ff5cab;
    letter-spacing:.8px;
    text-shadow:0 4px 0 #fff,0 10px 20px rgba(255,105,180,.3);
  }
  .tiny{ font-size:22px; opacity:.7 }
  input[type="text"]{
    width:100%;
    font:inherit;
    font-size:28px;
    padding:10px 14px;
    border-radius:14px;
    border:2px solid var(--line);
    background:#fff;
    color:var(--ink);
  }
  .qbox{ display:grid; gap:10px; margin-top:8px; text-align:left }
  .q{ font-size:30px; color:var(--ink) }
  .theend{ font-size:28px; color:var(--muted); margin-top:8px }

  /* ğŸŒ¸ ë°˜ì‘í˜• */
  @media (max-width:768px){
    .board{
      inset:56px 10px 124px 10px;
      grid-template-columns:1fr;
      grid-template-rows:1fr 1fr;
      gap:10px;
    }
    .avatarWrap img{ width:75%; max-width:440px; }
    .textbox{ padding:10px }
    .card{ padding:12px 14px; border-radius:16px }
    .controls{ bottom:6px; gap:6px }
    .top{ padding:8px }
    .pill{ padding:6px 10px; border-radius:12px }
    .sheet{ width:min(94%,560px); padding:18px 20px }
    h1.title{ font-size:clamp(28px,8vw,44px) }
    .tiny{ font-size:clamp(14px,3.8vw,18px) }
  }

  @media (max-width:360px){
    .board{ inset:52px 8px 112px 8px }
    .bubble{ bottom:30% }
  }
</style>
</head>
<body>
<div class="frame" role="application" aria-label="ë‚˜ëŠ” ìš°ì˜ˆì› â€” ìŠ¤í† ë¦¬ ê²Œì„">
  <!-- ìƒë‹¨ ìƒíƒœë°” -->
  <div class="top">
    <div class="pill">ì¥ë©´ <span id="sceneIdx">1</span> / <span id="sceneTot">â€”</span></div>
    <div class="pill">ëª¨ë“œ <span id="mode">íƒ€ì´í‹€</span></div>
    <div style="margin-left:auto" class="pill ghost" id="resetBtn">ì²˜ìŒìœ¼ë¡œ</div>
  </div>

  <!-- ë³¸ë¬¸ ì˜ì—­ -->
  <div class="board">
    <div class="stage avatarWrap">
      <!-- ë‚˜ì¤‘ì— ì‹¤ì œ ì´ë¯¸ì§€ ê²½ë¡œë¡œ êµì²´ -->
      <img id="avatar" alt="ì—¬ìì•„ì´ ì´ë¯¸ì§€ ìë¦¬" src="E7B417B0-9BB9-43E0-8C64-2B00CA278958.png"/>
      <div class="bubble" id="bubble"></div>
    </div>
    <div class="stage">
      <div class="textbox">
        <div class="card">
          <div class="who" id="who">ë‚˜ë ˆì´ì…˜</div>
          <div class="txt" id="text">â€”</div>
        </div>
      </div>
      <div class="controls">
        <button id="mainBtn">ì‹œì‘í•˜ê¸°</button>
      </div>
    </div>
  </div>

  <!-- íƒ€ì´í‹€ -->
  <div class="overlay" id="title">
    <div class="sheet">
      <h1 class="title">ë‚˜ëŠ” ìš°ì˜ˆì›</h1>
      <p class="tiny">ë°˜ì§ë°˜ì§ ì˜ˆì›ì´ì˜ ì´ì•¼ê¸°âœ¨</p>
      <div style="display:flex; gap:10px; justify-content:center; margin-top:6px">
        <button id="startBtn">ì‹œì‘í•˜ê¸°</button>
      </div>
    </div>
  </div>

  <!-- ì§ˆë¬¸ íŒ¨ë„ -->
  <div class="overlay" id="question" style="display:none">
    <div class="sheet">
      <div class="qbox">
        <div class="q" id="qText">ì§ˆë¬¸</div>
        <div id="answerWrap">
          <input type="text" id="answer" placeholder="ì—¬ê¸°ì— ì…ë ¥"/>
        </div>
        <div style="display:flex; gap:10px; justify-content:center">
          <button id="okBtn">í™•ì¸</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ìê¸°ì†Œê°œ(ì—”ë”© ì§ì „) -->
  <div class="overlay" id="selfIntro" style="display:none">
    <div class="sheet">
      <h1 class="title" style="font-size:48px">ë‚˜ëŠ” ìš°ì˜ˆì›</h1>
      <p id="selfBody" class="theend" style="text-align:left; line-height:1.75"></p>
      <div style="display:flex; gap:10px; justify-content:center; margin-top:10px">
        <button id="toEnding" disabled>ì—”ë”© ë³´ê¸°</button>
      </div>
      <p class="tiny" id="waitHint" style="margin-top:6px; opacity:.7">ì ì‹œë§Œìš”â€¦ ì¤€ë¹„ ì¤‘ì´ì—ìš” âœ¨</p>
    </div>
  </div>

  <!-- ì—”ë”© -->
  <div class="overlay" id="ending" style="display:none">
    <div class="sheet">
      <h1 class="title" style="font-size:48px">THE END</h1>
      <p class="theend">â€œë‚˜ëŠ” ë‚˜ ìì‹ ì¼ ë•Œ ê°€ì¥ ì•„ë¦„ë‹µê³  ê°€ì¥ ë¹›ë‚œë‹¤. ìš°ì˜ˆì›ì€ ì–´ë””ì„œë“  ë¹›ë‚˜ëŠ” ì¡´ì¬ë‹ˆê¹Œ.â€</p>
      <div style="display:flex; gap:10px; justify-content:center; margin-top:10px">
        <button id="replay">ë‹¤ì‹œ ë³´ê¸°</button>
      </div>
    </div>
  </div>
</div>

<script>
/* ========= ì„¤ì • ========= */
// ìë™ ë©˜íŠ¸ ì†ë„(ë°€ë¦¬ì´ˆ). ì˜ˆ: 2000ms = 2ì´ˆ
const AUTO_DELAY = 2000;

/* ========= ìƒíƒœ & UI ========= */
const UI = {
  who: document.getElementById('who'),
  text: document.getElementById('text'),
  mainBtn: document.getElementById('mainBtn'),
  title: document.getElementById('title'),
  startBtn: document.getElementById('startBtn'),
  question: document.getElementById('question'),
  qText: document.getElementById('qText'),
  answer: document.getElementById('answer'),
  okBtn: document.getElementById('okBtn'),
  sceneIdx: document.getElementById('sceneIdx'),
  sceneTot: document.getElementById('sceneTot'),
  mode: document.getElementById('mode'),
  bubble: document.getElementById('bubble'),
  ending: document.getElementById('ending'),
  replay: document.getElementById('replay'),
  resetBtn: document.getElementById('resetBtn'),
  selfIntro: document.getElementById('selfIntro'),
  selfBody: document.getElementById('selfBody'),
  toEnding: document.getElementById('toEnding'),
  waitHint: document.getElementById('waitHint'),
};
const S = {
  mode: 'íƒ€ì´í‹€', idx: 0,
  answers: { color:'', hobby:'', skill:'', food:'', song:'' },
};

/* ========= ìŠ¤í† ë¦¬ ë°ì´í„° ========= */
const phases = [
  // 0: í”„ë¡¤ë¡œê·¸
  { who:'ë‚˜ë ˆì´ì…˜', text:'ë‚˜ëŠ” ìš°ì˜ˆì›ì´ë‹¤.', btn:'ê³„ì†', on:'intro' },

  // ë²„íŠ¼ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” êµ¬ê°„
  { who:'ìš°ì˜ˆì›', text:'ì•ˆë…•í•˜ì„¸ìš” ì €ëŠ” ìš°ì˜ˆì›ì´ì—ìš”.', btn:'ìš°ì˜ˆì›ê³¼ ëŒ€í™”í•˜ê¸°' },
  { who:'ë‚˜ë ˆì´ì…˜', text:'ë‚˜ëŠ” ìš°ì˜ˆì›ì´ë‹¤.', btn:'ìš°ì˜ˆì›ê³¼ ëŒ€í™”í•˜ê¸°' },
  { who:'ìš°ì˜ˆì›', text:'ì•ˆë…•í•˜ìƒˆìš” ì €ëŠ” ìš°ì–˜ì›ì´ì• ìš”.', btn:'ìš°ì˜ˆì›ê³¼ ëŒ€í™”í•˜ê¸°' },
  { who:'ë‚˜ë ˆì´ì…˜', text:'ë‚˜ëŠ” ìš°ì˜ˆì›ì´ë‹¤.', btn:'ìš°ì˜ˆì›ê³¼ ëŒ€í™”í•˜ê¸°' },
  { who:'ìš°ì˜ˆì›', text:'ì•ˆë…•í•˜ìƒˆìš” ì €ëŠ” ìš°ì–˜ì›ì´ì• ìš”. ìµœì• ë¼ë©´ì€ ì§„ìˆœ.', btn:'ìš°ì˜ˆì›ê³¼ ëŒ€í™”í•˜ê¸°' },
  { who:'ë‚˜ë ˆì´ì…˜', text:'ë‚˜ëŠ” ìš°ì˜ˆì›ì´ë‹¤.', btn:'ìš°ì˜ˆì›ê³¼ ëŒ€í™”í•˜ê¸°' },
  { who:'ìš°ì˜ˆì›', text:'ì•ˆë…•í•˜ìƒˆìš” ì €ëŠ” ìš°ì–˜ì›ì´ì• ìš”. ê°€ì‹ì ì¸ ì‚¬ëŒì„ ì‹¤ì–´í•´ìš”.', btn:'ìš°ì˜ˆì›ê³¼ ëŒ€í™”í•˜ê¸°' },
  { who:'ë‚˜ë ˆì´ì…˜', text:'ë‚˜ëŠ” ìš°ì˜ˆì›ì´ë‹¤.', btn:'ìš°ì˜ˆì›ê³¼ ëŒ€í™”í•˜ê¸°' },
  { who:'ìš°ì˜ˆì›', text:'ì•ˆë…•í•˜ìƒˆìš” ì €ëŠ” ìš°ì–˜ì›ì´ì• ìš”. ì‹¤í‚¤ë³´ì´ì¦ˆ ë…¸ë˜ ì°¸ ì¡°ì•„ì—¬~~', btn:'ìš°ì˜ˆì›ê³¼ ëŒ€í™”í•˜ê¸°' },
  { who:'ë‚˜ë ˆì´ì…˜', text:'ë‚˜ëŠ” ìš°ì˜ˆì›ì´ë‹¤.', btn:'ë‹¤ìŒ' },

  // ìë™ìœ¼ë¡œ ì­‰ ë‚˜ì˜¤ëŠ” ë©˜íŠ¸(ëŠë¦¬ê²Œ)
  { who:'ìš°ì˜ˆì›', text:'ì•ˆë…•í•˜ìƒˆìš” ì €ëŠ” ìš°ì–˜ì› ë¬´ë³‘ì¥ìˆ˜ë¥¼ ì°¬ì–‘í•˜ì§€ ì•°ë¹„í‹°ì•„ì´?ê·¸ëŸ¿ê°œê°€ì§€ììƒˆíˆëŠ” ê¸°ì–µì•ˆë‚˜ìš”', auto:true },
  { who:'ìš°ì˜ˆì›', text:'ì•ˆë…•í•˜ìƒˆìš” ì €ëŠ” ìš°ì˜ˆì›ì…ë‹ˆë‹¤ ì•„ì¹¨ì‹œê°„ì—…ìœ¼ë©´ ì•ˆë¨¹ê³  ì‹œê°„ì‡ìœ¼ë©´ ë°© ë‚´^^ ì•ˆë…•í•˜ìƒˆìš”', auto:true },
  { who:'ìš°ì˜ˆì›', text:'ì•ˆë…•í•˜ìƒˆìš” ì €ëŠ” ìš°ì˜ˆì›ì…ë‹ˆë‹¤ í•˜ì´ë£¨ yewon795 ì•ˆë…•í•˜ìƒˆìš” ì•ˆë…•', auto:true },
  { who:'ìš°ì˜ˆì›', text:'ì•ˆë…•í•˜ìƒˆìš” ì €ëŠ” ìš°ì˜ˆì›ì…ë‹ˆë‹¤ ì• ìŠ¤í¬í”„ì‚¬ ê·€ì—½ì”ì•„', auto:true },
  { who:'ìš°ì˜ˆì›', text:'í—ˆê±±ìŠ¤ ë‚´? ë‚´? ì•ˆë…•í•˜ìƒˆìš” ë‚´? ë‚´? ë‚´?', auto:true },
  { who:'ìš°ì˜ˆì›', text:'ì €ëŠ” ìš°ì–˜ì› ì•ˆë…•í•˜ìƒˆìš” í—ˆê±±ìŠ¤ ë‚´? ë‚´^^ ë‚´? ì €ëŠ” ìš°ì–˜ì› ë‚´? ìš°ì–˜ì›.. ì €ëŠ”..', auto:true },
  { who:'ë‚˜ë ˆì´ì…˜', text:'ë‚˜ëŠ”.. ìš°ì˜ˆì›ì´ë‹¤.. ë‚˜ëŠ”..', auto:true },
  { who:'ë‚˜ë ˆì´ì…˜', text:'ìš°ì˜ˆì›ì´ ëˆ„êµ¬ì§€?', auto:true, on:'whois' },

  // ??? ë‹¨ê³„
  { who:'???', text:'ë‚˜ëŠ”â€¦ ë‚˜ëŠ”â€¦', btn:'???ê³¼ ëŒ€í™”í•˜ê¸°' },
  { who:'???', text:'ë‚˜ëŠ” ìš°ì˜ˆì›ì´ì•¼!!!!!!!!', btn:'ê³„ì†', on:'qa' },
];

UI.sceneTot.textContent = phases.length;

/* ========= ìœ í‹¸ ========= */
function setMode(m){ S.mode=m; UI.mode.textContent=m; }
function showBubble(text){
  UI.bubble.style.display='block';
  UI.bubble.textContent=text;
  setTimeout(()=>UI.bubble.style.display='none', 2000);
}
function typeIn(el, html){
  const tmp=document.createElement('div'); tmp.innerHTML=html;
  const text = tmp.textContent||tmp.innerText||'';
  el.innerHTML='';
  let i=0; const timer=setInterval(()=>{
    el.textContent += text[i++]||'';
    if(i>=text.length){ clearInterval(timer); el.innerHTML=html; }
  }, 14);
}

/* ========= ë Œë” ========= */
function render(i){
  S.idx = Math.max(0, Math.min(phases.length-1, i));
  const node = phases[S.idx];
  UI.sceneIdx.textContent = S.idx+1;

  UI.who.textContent = node.who || 'â€”';
  typeIn(UI.text, node.text || '');
  UI.mainBtn.textContent = node.btn || 'ë‹¤ìŒ';

  if(node.auto){
    UI.mainBtn.disabled = true;
    setTimeout(()=>{
      UI.mainBtn.disabled = false;
      if(node.on){ nextPhase(node.on); }
      else if(S.idx < phases.length-1){ render(S.idx+1); }
    }, AUTO_DELAY); // âœ… 2ì´ˆ ê°„ê²©
  }else{
    UI.mainBtn.disabled = false;
  }
}

/* ========= ë‹¨ê³„ ì „í™˜ ========= */
function nextPhase(tag){
  if(tag==='intro'){ setMode('ìŠ¤í† ë¦¬'); render(S.idx+1); return; }
  if(tag==='whois'){ setMode('ì •ì²´ì„±'); UI.mainBtn.textContent='???ê³¼ ëŒ€í™”í•˜ê¸°'; render(S.idx+1); return; }
  if(tag==='qa'){ setMode('ì§ˆë¬¸'); startQA(); return; }
}

/* ========= ì§ˆë¬¸ í”Œë¡œìš° ========= */
const qList = [
  { key:'color', q:'ë„¤ê°€ ì¢‹ì•„í•˜ëŠ” ìƒ‰ì€ ë­ì•¼?' },
  { key:'hobby', q:'ë„¤ ì·¨ë¯¸ëŠ” ë¬´ì—‡ì´ì•¼?' },
  { key:'skill', q:'íŠ¹ê¸°ëŠ”? ë¬´ì—‡ì„ ì˜ í•˜ë‹ˆ?' },
  { key:'food', q:'ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ìŒì‹ì€?' },
  { key:'song', q:'ì¢‹ì•„í•˜ëŠ” ë…¸ë˜ëŠ”?' },
  { key:'confirm', q:'ë„ˆëŠ” ìš°ì˜ˆì›ì´ì§€.' } // 'ì‘'ë§Œ
];
let qi = 0;

function startQA(){
  qi = 0;
  UI.question.style.display='grid';
  ask();
}
function ask(){
  const item = qList[qi];
  UI.qText.textContent = item.q;
  const wrap = document.getElementById('answerWrap');
  wrap.innerHTML = '';
  if(item.key==='confirm'){
    UI.okBtn.textContent = 'ì‘';
    const p = document.createElement('p');
    p.className='tiny'; p.textContent='(ì´ ì§ˆë¬¸ì€ ëŒ€ë‹µì´ í•˜ë‚˜ë¿ì´ì•¼)';
    wrap.appendChild(p);
  }else{
    const input = document.createElement('input');
    input.type='text'; input.id='answer'; input.placeholder='ì—¬ê¸°ì— ì…ë ¥';
    input.autofocus=true; wrap.appendChild(input);
    UI.okBtn.textContent = 'í™•ì¸';
    setTimeout(()=>{ input.focus(); }, 50);
  }
}

UI.okBtn.onclick = ()=>{
  const item = qList[qi];
  if(item.key!=='confirm'){
    const value = (document.getElementById('answer')?.value || '').trim();
    if(!value){ showBubble('ì‚´ì§ë§Œ ì¨ì¤˜ âœ¨'); return; }
    // ì €ì¥
    if(item.key==='color') S.answers.color = value;
    if(item.key==='hobby') S.answers.hobby = value;
    if(item.key==='skill') S.answers.skill = value;
    if(item.key==='food')  S.answers.food  = value;
    if(item.key==='song')  S.answers.song  = value;
  }
  qi++;
  if(qi < qList.length){ ask(); }
  else{
    UI.question.style.display='none';
    summaryScene(); // âœ… ì—”ë”© ì „ ìê¸°ì†Œê°œ í™”ë©´ìœ¼ë¡œ ì´ë™
  }
};

/* ========= ì—”ë”© ì§ì „: ìê¸°ì†Œê°œ í™”ë©´ ========= */
function summaryScene(){
  setMode('ìê¸°ì†Œê°œ');

  const introText = `ë°˜ê°€ì›Œ! ë‚˜ëŠ” ìš°ì˜ˆì›ì´ì•¼.
ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ìƒ‰ì€ ${S.answers.color}.
ë‚´ ì·¨ë¯¸ëŠ” ${S.answers.hobby}.
íŠ¹ê¸°ëŠ” ${S.answers.skill}.
ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ìŒì‹ì€ ${S.answers.food}.
ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ë…¸ë˜ëŠ” ${S.answers.song}.
ë‚˜ëŠ” ìš°ì˜ˆì›ì´ì•¼. ì˜ ë¶€íƒí•´!`;

  // ë³¸ë¬¸ì—ë„ ì¶œë ¥(ì›ë˜ í™”ë©´)
  UI.who.textContent = 'ìš°ì˜ˆì›';
  typeIn(UI.text, introText.replace(/\n/g,'<br/>'));

  // ğŸ”¸ ë³„ë„ì˜ ì˜¤ë²„ë ˆì´ì—ì„œ ê¸¸ê²Œ ë³´ì—¬ì£¼ê¸°
  const INTRO_MIN_MS = 3000; // ìµœì†Œ 3ì´ˆ í›„ 'ì—”ë”© ë³´ê¸°' í™œì„±í™”
  UI.selfBody.innerHTML = introText.replace(/\n/g,'<br/>');
  UI.selfIntro.style.display = 'grid';
  UI.toEnding.disabled = true;
  UI.waitHint.style.display = 'block';

  setTimeout(()=>{
    UI.toEnding.disabled = false;
    UI.waitHint.style.display = 'none';
  }, INTRO_MIN_MS);

  UI.toEnding.onclick = ()=>{
    UI.selfIntro.style.display = 'none';
    UI.ending.style.display = 'grid';
  };
}

/* ========= ì´ë²¤íŠ¸ ========= */
UI.startBtn.onclick = ()=>{
  UI.title.style.display='none';
  setMode('ìŠ¤í† ë¦¬');
  UI.mainBtn.textContent='ê³„ì†';
  render(0);
};
UI.mainBtn.onclick = ()=>{
  const node = phases[S.idx];
  if(node.on){ nextPhase(node.on); return; }
  if(S.idx < phases.length-1){ render(S.idx+1); }
};
UI.replay.onclick = ()=>{ location.reload(); };
UI.resetBtn.onclick = ()=>{ location.reload(); };

/* ì´ˆê¸°í™” */
setMode('íƒ€ì´í‹€');
UI.sceneTot.textContent = phases.length;
UI.who.textContent = 'â€”';
UI.text.textContent = 'íƒ€ì´í‹€ì—ì„œ ì‹œì‘í•˜ê¸°ë¥¼ ëˆŒëŸ¬ì¤˜!';
render(0); // ì¹´ìš´íŠ¸ í‘œì‹œìš©
</script>
</body>
</html>
